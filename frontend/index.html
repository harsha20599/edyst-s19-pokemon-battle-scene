<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Pokemon Battle Scene</title>
  <link rel="stylesheet" href="static/app.css" type="text/css">
</head>
<body>
  <!-- A wrapper for the game  -->
  <div class="container pokemon-background">
    
    <!-- Opponent section -->
    <div class="top-section">
      <!-- opponent scoreboard -->
      <div class="scoreboard opponent-scoreboard">
        <div class="tag">
          Opponent
        </div>
        <div class="name">
          Pikachu
        </div>
        <div class="progressbar">
          <div class="total-progressbar">
            <div class="actual-progressbar"></div>
          </div>
        </div>
        <div class="score">
          <span class="actual-score">960/</span>
          <span class="total-score">1000</span>
        </div>
      </div>

      <!-- Opponent Pokemon image -->
      <div class="image-section opponent-image">
        <div class="pokemon-image pokemon-1">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png" alt="">
        </div>
      </div>
    </div>

    <!-- User Section -->
    <div class="bottom-section">
      
      <!-- User Pokemon image -->
      <div class="image-section user-image ">
        <div class="pokemon-image pokemon-2">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/1.png" alt="">
        </div>
      </div>

      <!-- User scoreboard -->
      <div class="scoreboard user-scoreboard">
        <div class="tag">
          Yours
        </div>
        <div class="name">
          Bulbasaur
        </div>
        <div class="progressbar">
          <div class="total-progressbar">
            <div class="actual-progressbar"></div>
          </div>
        </div>
        <div class="score">
          <span class="actual-score">950/</span>
          <span class="total-score">1000</span>
        </div>
      </div>
    </div>

    <!-- Attacks section -->
    <div class="attacks-section">
      <div class="attacks-heading">
        Attacks
      </div>
      <div class="attacks">
        <!-- Attack is represented as a button, followed by it's count  -->
        <div class="attack attack-medium" onclick="makeAttack(this,1)">
          Thunder Jolt
          <span class="remaining-attacks">30</span>
        </div>
        <div class="attack attack-high" onclick="makeAttack(this,2)">
          Electro Ball
          <span class="remaining-attacks">14</span>
        </div>
        <div class="attack attack-medium" onclick="makeAttack(this,3)">
          Volt Tackle
          <span class="remaining-attacks">4</span>
        </div>
        <div class="attack attack-low" onclick="makeAttack(this,4)">
          Thunder Ball
          <span class="remaining-attacks">19</span>
        </div>

      </div>
    </div>

  </div>

  <script>

    // Referring from many sources like w3schools, stackoverflow, etc. I implemented this code
    // This function is used to perform attack. As of this code, it just decrements the remaining attacks value
    // and shakes the user's pokemon image to let the user more engaged.
    function makeAttack(button,id){
      // Grabbing the clicked button
      var value = button.childNodes[1].innerHTML;
      // Decrementing the value of left attacks count
      button.childNodes[1].innerHTML = (value) > 0 ? value-1 : value;
      if(value > 0 ){
        // Calling shake image function to shake the pokemon
        shakeImage('user-image');
      }
    }

    // This function is used to shake the pokemon.
    function shakeImage(target){      
      // Identifying the target image based on class-name parameter
      var image = document.getElementsByClassName(target)[0].classList;
      // Adding classname "shake" to the image
      image.add('shake');
      setTimeout(function() {
        // Removing the class name "shake" after 600 milliseconds
        image.remove('shake');
      }, 600);
    }
  
  </script>
</body>
</html>